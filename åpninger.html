<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Sjakktrener</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />

        <link rel="stylesheet" href="Chess\css\chessboard-1.0.0.min.css"></link>
        <link rel="stylesheet" href="Chess\css\css.css"></link>
        <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
        <script src="Chess\js\chessboard-1.0.0.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.js"></script>
        <script src="Chess\js\Script.js"></script>

    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="index.html">Sjakktrener</a>
                <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="spill.html">Spill</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#">Åpninger</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="omoss.html">Om Oss</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="logginn.html">Min Profil</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        
        <!-- Portfolio Section-->
        <section class="page-section portfolio" id="openings" style="margin-top: 5%;">
            <div class="container">
                <!-- Portfolio Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Lær deg åpninger!</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>

                <!-- Boards -->

                <hr>
                <div class="d-flex mb-1">
                    <div class="container text-center">
                        <div class="row">
                            <div class="col" style="display: flex;">
                                <div class="me-auto p-2"><h2>Italiensk åpning</h2>
                                    <div id="italiensk" style="width: 500px;"></div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="ms-auto p-2" style="margin-top: 15%;"><p>
                                    The Italian Game is one of the oldest openings in chess and has been around for centuries. This classical 1.e4 opening can lead to slower and positional games as well as open, tactical battles. Although very common among beginners, the Italian Game is a part of the repertoire of players of every level.</p>
                                    <button id="nextTrekk" class="btn" onclick="nextItaliensk()">Neste trekk</button>
                                    <button id="resetTrekk" class="btn" onclick="resetTrekk('italiensk')">Reset</button><br><br>
                                    <button id="byttSide" class="btn" onclick="flipFarge(itallianFarge)">Bytt side</button>
                                    <button id="spillBrett" class="btn" onclick="spillBrett(itallianFarge, 'italiensk')">Spill selv</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="d-flex mb-1">
                    <div class="container text-center">
                        <div class="row">
                            <div class="col">
                                <div class="me-auto p-2" style="margin-top: 15%;">
                                    <p>The Sicilian Defense is the most popular response to White's 1.e4. Employed by masters and beginners alike, the Sicilian Defense is a reputable and positionally sound opening. Still, the Sicilian is a combative opening that tends to lead to dynamic and sharp positions.<br><br>
            
                                    One of the oldest registered openings, the Sicilian is full of theory and was used by most of the greatest players in history. World champions GMs Bobby Fischer, Garry Kasparov, Viswanathan Anand, Vladimir Kramnik, and Magnus Carlsen are just a few of its adopters.</p>
                                    <button id="nextTrekk" class="btn" onclick="nextSiciliansk()">Neste trekk</button>
                                    <button id="resetTrekk" class="btn" onclick="resetTrekk('siciliansk')">Reset</button><br><br>
                                    <button id="byttSide" class="btn" onclick="flipFarge(sicilianskFarge)">Bytt side</button>
                                    <button id="spillBrett" class="btn" onclick="spillBrett(sicilianskFarge, 'siciliansk')">Spill selv</button>
                                </div>
                            </div>
                            <div class="col" style="display: flex;">
                                <div class="ms-auto p-2"><h2>Siciliansk forsvar</h2>
                                    <div id="siciliansk" style="width: 500px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="d-flex mb-1">
                    <div class="container text-center">
                        <div class="row">
                            <div class="col" style="display: flex;">
                                <div class="me-auto p-2"><h2>Fransk forsvar</h2>
                                    <div id="fransk" style="width: 500px;"></div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="ms-auto p-2" style="margin-top: 15%;">
                                    <p>The French Defense is one of the most popular Black responses to 1.e4. It has consistently been a part of masters' repertoire since the 1800s and one of the favorites of positional players. Usually leading to slower games, this opening is a good choice for players of all levels.</p>
                                    <button id="nextTrekk" class="btn" onclick="nextFransk()">Neste trekk</button>
                                    <button id="resetTrekk" class="btn" onclick="resetTrekk('fransk')">Reset</button><br><br>
                                    <button id="byttSide" class="btn" onclick="flipFarge(frenchFarge)">Bytt side</button>
                                    <button id="spillBrett" class="btn" onclick="spillBrett(frenchFarge, 'fransk')">Spill selv</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="d-flex mb-1">
                    <div class="container text-center">
                        <div class="row">
                            <div class="col">
                                <div class="me-auto p-2" style="margin-top: 15%;">
                                    <p>The Ruy Lopez (also known as the Spanish Opening or Spanish Game) is one of the oldest and most analyzed openings in chess history. Most of the world's top players have adopted this rich opening as part of their repertoire, and many of them play it with both colors. Despite having a large amount of theory, it is an opening that players of all levels can enjoy.</p>
                                    <button id="nextTrekk" class="btn" onclick="nextSpansk()">Neste trekk</button>
                                    <button id="resetTrekk" class="btn" onclick="resetTrekk('spansk')">Reset</button><br><br>
                                    <button id="byttSide" class="btn" onclick="flipFarge(spanishFarge)">Bytt side</button>
                                    <button id="spillBrett" class="btn" onclick="spillBrett(spanishFarge, 'spansk')">Spill selv</button>
                                </div>
                            </div>
                            <div class="col" style="display: flex;">
                                <div class="ms-auto p-2"><h2>Spansk åpning</h2>
                                    <div id="spansk" style="width: 500px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>  
                </div>
                <hr>
                <div class="d-flex mb-1">
                    <div class="container text-center">
                        <div class="row">
                            <div class="col" style="display: flex;">
                                <div class="me-auto p-2"><h2>Slavisk forsvar</h2>
                                    <div id="slavisk" style="width: 500px;"></div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="ms-auto p-2" style="margin-top: 15%;">
                                    <p>The Slav Defense is a solid opening for Black in response to White's Queen's Gambit (1.d4 d5 2.c4). Black fights for equality against one of White's most popular openings without creating a bad light-squared bishop—one of the downsides of other defenses like the French Defense and the Queen's Gambit Declined.<br><br>
        
                                    An extremely popular opening which has been endorsed by many world champions such as GMs Max Euwe, Mikhail Botvinnik, Vladimir Kramnik, Viswanathan Anand, and Magnus Carlsen. Usually leading to slower games, the Slav is a good choice for players at any level</p>
                                    <button id="nextTrekk" class="btn" onclick="nextSlavisk()">Neste trekk</button>
                                    <button id="resetTrekk" class="btn" onclick="resetTrekk('slavisk')">Reset</button><br><br>
                                    <button id="byttSide" class="btn" onclick="flipFarge(slavicFarge)">Bytt side</button>
                                    <button id="spillBrett" class="btn" onclick="spillBrett(slavicFarge, 'slavisk')">Spill selv</button>
                                </div>
                            </div>
                        </div>
                    </div> 
                </div>
                <hr>
            </div>
        </section>
        
        <!-- Footer-->
        <footer class="footer text-center">
            <div class="container">
                <div class="row">
                    <!-- Footer Location-->
                    <div class="col-md-6">
                        <h4 class="text-uppercase mb-4">Location</h4>
                        <p class="lead mb-0">
                            Gullbringvegen 28-30
                            <br />
                            Bø, Midt-telemark
                        </p>
                    </div>
                    <!-- Footer Social Icons-->
                    <div class="col-md-6">
                        <h4 class="text-uppercase mb-4">Finn oss på Sosiale medier!</h4>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-facebook-f"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-twitter"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-linkedin-in"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-dribbble"></i></a>
                    </div>
                    <!-- Footer About Text-->
                    <div class="col-lg-4">
                        <h4 class="text-uppercase mb-4"></h4>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Copyright Section-->
        <div class="copyright py-4 text-center text-white">
            <div class="container"><small>Copyright &copy; Your Website 2022</small></div>
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
        <script>
            loadOpener('italiensk', 'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R')
            loadOpener('siciliansk', 'rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6 0 2')
            loadOpener('fransk', 'rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6 0 2')
            loadOpener('spansk', 'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3')
            loadOpener('slavisk', 'rnbqkbnr/pp2pppp/2p5/3p4/2PP4/8/PP2PPPP/RNBQKBNR w KQkq - 0 3')
            
            var sicilianskMove = 0, frenchMove = 0, slavicMove = 0, spanishMove = 0, itallianMove = 0
            var sicilianskFarge = 'white', frenchFarge = 'white', slavicFarge = 'white', spanishFarge = 'white', itallianFarge = 'white'

            function resetTrekk(brett) {
                loadOpener(brett, 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR')
                sicilianskMove = 0
                frenchMove = 0
                slavicMove = 0
                spanishMove = 0
                itallianMove = 0
                sicilianskFarge = 'white'
                frenchFarge = 'white'
                slavicFarge = 'white'
                spanishFarge = 'white'
                itallianFarge = 'white'
            }
            //For å fikse bug med at man kan ednre bruikker på sist brukte brett --> setter alle variablene (frechMove) = maks trekk for den åpningen
            function nextSiciliansk() {
                if(sicilianskMove === 0) {
                    board.move('e2-e4')
                    sicilianskMove++
                } else if(sicilianskMove === 1) {
                    board.move('c7-c5')
                    sicilianskMove++
                } else 
                    return //Forhindrer lyd uten brikke som flytter
                sound()
            }

            function nextFransk() {
                if(frenchMove === 0 ){
                    board.move('e2-e4')
                    frenchMove++                    
                } else if(frenchMove === 1) {
                    board.move('e7-e5')
                    frenchMove++
                } else 
                    return //Forhindrer lyd uten brikke som flytter
                sound()
            }

            function nextItaliensk() {
                if(itallianMove === 0 ){
                    board.move('e2-e4')
                    itallianMove++
                } else if(itallianMove === 1) {
                    board.move('e7-e6')
                    itallianMove++
                } else if(itallianMove === 2) {
                    board.move('g1-f3')
                    itallianMove++
                } else if(itallianMove === 3) {
                    board.move('b8-c6')
                    itallianMove++
                } else if(itallianMove === 4) {
                    board.move('f1-c4')
                    itallianMove++
                } else 
                    return //Forhindrer lyd uten brikke som flytter
                sound()
            }

            function nextSlavisk() {
                if(slavicMove === 0 ){
                    board.move('d2-d4')
                    slavicMove++
                } else if(slavicMove === 1) {
                    board.move('d7-d5')
                    slavicMove++
                } else if(slavicMove === 2) {
                    board.move('c2-c4')
                    slavicMove++
                } else if(slavicMove === 3) {
                    board.move('c7-c6')
                    slavicMove++
                } else 
                    return //Forhindrer lyd uten brikke som flytter
                sound()
            }

            function nextSpansk() {
                if(spanishMove === 0 ){
                    board.move('e2-e4')
                    spanishMove++
                } else if(spanishMove === 1) {
                    board.move('e7-e5')
                    spanishMove++
                } else if(spanishMove === 2) {
                    board.move('g1-f3')
                    spanishMove++
                } else if(spanishMove === 3) {
                    board.move('b8-c6')
                    spanishMove++
                } else if(spanishMove === 4) {
                    board.move('f1-b5')
                    spanishMove++
                } else 
                    return //Forhindrer lyd uten brikke som flytter
                sound()
            }

            function spillBrett(farge, id, arr) {
                console.log(farge)
                spillMedAapning(farge, id, arr)
            }
            function flipFarge(brett) { //Bytter side
                board.flip() //flipper
                switch(brett) { //Endrer variablene som tar vare på nåværende farge på alle brett
                    case itallianFarge : {
                        itallianFarge = board.orientation()
                        break
                    }
                    case frenchFarge : {
                        frenchFarge = board.orientation()
                        break
                    }
                    case slavicFarge : {
                        slavicFarge = board.orientation()
                        //slavicFarge === 'white' ? slavicFarge = 'black' : slavicFarge = 'white'
                        break
                    }
                    case spanishFarge : {
                        spanishFarge = board.orientation()
                        break
                    }
                    case sicilianskFarge : {
                        sicilianskFarge = board.orientation()
                        break
                    }
                }                
            }
        </script>
    </body>
</html>
